{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport React, { useEffect, useState, useCallback } from \"react\";\nimport { useFocusEffect } from \"@react-navigation/native\";\nimport { Ionicons } from \"@expo/vector-icons\";\nimport axios from \"axios\";\nimport styles from \"../StylesSheets/stryles\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar ChoosePage = function ChoosePage(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      yogaPose = _useState2[0],\n      setYogaPose = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      error = _useState6[0],\n      setError = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      search = _useState8[0],\n      setSearch = _useState8[1];\n\n  var getData = function _callee() {\n    var res;\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            setLoading(true);\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(axios.get(\"https://lightning-yoga-api.herokuapp.com/yoga_poses?english_name=\"));\n\n          case 4:\n            res = _context.sent;\n            setYogaPose(res.data.items);\n            setLoading(false);\n            _context.next = 13;\n            break;\n\n          case 9:\n            _context.prev = 9;\n            _context.t0 = _context[\"catch\"](0);\n            setLoading(false);\n            setError(_context.t0);\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 9]], Promise);\n  };\n\n  var getSearch = function _callee2() {\n    var res;\n    return _regeneratorRuntime.async(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(axios.get(\"https://lightning-yoga-api.herokuapp.com/yoga_poses?english_name=\" + search));\n\n          case 3:\n            res = _context2.sent;\n            setYogaPose(res.data.items);\n            _context2.next = 10;\n            break;\n\n          case 7:\n            _context2.prev = 7;\n            _context2.t0 = _context2[\"catch\"](0);\n            setError(_context2.t0);\n\n          case 10:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  };\n\n  useEffect(function () {\n    getData();\n  }, []);\n  useEffect(function () {\n    getSearch(search);\n  }, [search]);\n\n  if (error) {\n    return _jsx(View, {\n      style: styles.container,\n      children: _jsx(Text, {\n        children: error.message\n      })\n    });\n  }\n\n  if (loading === true) {\n    return _jsx(View, {\n      style: styles.container,\n      children: _jsx(ActivityIndicator, {\n        size: \"large\",\n        color: \"white\"\n      })\n    });\n  }\n\n  var _renderItem = function _renderItem(_ref2) {\n    var item = _ref2.item;\n    return _jsx(SafeAreaView, {\n      style: styles.Felx,\n      children: _jsx(TouchableOpacity, {\n        style: styles.Button,\n        onPress: function onPress() {\n          navigation.navigate(\"YogaInfo\", {\n            id: item.id,\n            name: item.english_name,\n            url: item.img_url\n          });\n        },\n        children: _jsx(View, {\n          style: styles.Felx,\n          children: _jsxs(View, {\n            style: styles.ButtonContainer,\n            children: [_jsx(Image, {\n              style: styles.Thumbnail,\n              source: {\n                uri: item.img_url\n              }\n            }), _jsx(View, {\n              style: styles.dataContent,\n              children: _jsx(Text, {\n                style: styles.name,\n                children: item.english_name\n              })\n            })]\n          })\n        })\n      })\n    });\n  };\n\n  return _jsxs(View, {\n    style: styles.scollViewContainer,\n    children: [_jsxs(View, {\n      style: styles.searchBar,\n      children: [_jsx(Ionicons, {\n        name: \"search-sharp\",\n        size: 25,\n        color: \"#000\"\n      }), _jsx(TextInput, {\n        style: styles.searchInput,\n        value: search,\n        onChangeText: function onChangeText(getSearch) {\n          return setSearch(getSearch);\n        },\n        placeholder: \"Search here\"\n      })]\n    }), _jsx(ScrollView, {\n      children: _jsx(FlatList, {\n        data: yogaPose,\n        keyExtractor: function keyExtractor(item) {\n          return item.id.toString();\n        },\n        renderItem: _renderItem,\n        refreshing: loading\n      })\n    })]\n  });\n};\n\nexport default ChoosePage;","map":{"version":3,"names":["React","useEffect","useState","useCallback","useFocusEffect","Ionicons","axios","styles","ChoosePage","navigation","yogaPose","setYogaPose","loading","setLoading","error","setError","search","setSearch","getData","get","res","data","items","getSearch","container","message","_renderItem","item","Felx","Button","navigate","id","name","english_name","url","img_url","ButtonContainer","Thumbnail","uri","dataContent","scollViewContainer","searchBar","searchInput","toString"],"sources":["F:/WORK/2022 Y-3 T-1/ITE-434 react/Yoga/YogaProject/Pages/ChoosePage.js"],"sourcesContent":["import {\n  StyleSheet,\n  Text,\n  View,\n  ActivityIndicator,\n  FlatList,\n  Image,\n  SafeAreaView,\n  TouchableOpacity,\n  ScrollView,\n  TextInput,\n} from \"react-native\";\nimport React, { useEffect, useState, useCallback } from \"react\";\nimport { useFocusEffect } from \"@react-navigation/native\";\nimport { Ionicons } from \"@expo/vector-icons\";\n\nimport axios from \"axios\";\n\nimport styles from \"../StylesSheets/stryles\";\n\n//Start Page\nconst ChoosePage = ({ navigation }) => {\n  //Set Variable\n  const [yogaPose, setYogaPose] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [search, setSearch] = useState(\"\");\n\n  //Get Data\n  const getData = async () => {\n    try {\n      setLoading(true);\n      const res = await axios.get(\n        \"https://lightning-yoga-api.herokuapp.com/yoga_poses?english_name=\"\n      );\n      setYogaPose(res.data.items);\n      setLoading(false);\n    } catch (error) {\n      setLoading(false);\n      setError(error); //set error to state error\n    }\n  };\n\n  //Get Data For Search\n  const getSearch = async () => {\n    try {\n      const res = await axios.get(\n        \"https://lightning-yoga-api.herokuapp.com/yoga_poses?english_name=\" +\n          search\n      );\n      setYogaPose(res.data.items);\n    } catch (error) {\n      setError(error); //set error to state error\n    }\n  };\n\n  //Call 'getData' Function\n  useEffect(() => {\n    getData();\n  }, []);\n\n  //Call 'getSearch' Function\n  useEffect(() => {\n    getSearch(search);\n  }, [search]);\n\n  //Show Error if Error\n  if (error) {\n    return (\n      <View style={styles.container}>\n        <Text>{error.message}</Text>\n      </View>\n    );\n  }\n\n  //Show Loading Screen\n  if (loading === true) {\n    return (\n      <View style={styles.container}>\n        <ActivityIndicator size=\"large\" color=\"white\" />\n      </View>\n    );\n  }\n\n  //Render Yoga Pose\n  const _renderItem = ({ item }) => {\n    return (\n      <SafeAreaView style={styles.Felx}>\n        <TouchableOpacity\n          style={styles.Button}\n          onPress={() => {\n            navigation.navigate(\"YogaInfo\", {\n              id: item.id,\n              name: item.english_name,\n              url: item.img_url,\n            });\n          }}\n        >\n          <View style={styles.Felx}>\n            <View style={styles.ButtonContainer}>\n              <Image style={styles.Thumbnail} source={{ uri: item.img_url }} />\n\n              <View style={styles.dataContent}>\n                <Text style={styles.name}>{item.english_name}</Text>\n              </View>\n            </View>\n          </View>\n        </TouchableOpacity>\n      </SafeAreaView>\n    );\n  };\n\n  //Main Function\n  return (\n    <View style={styles.scollViewContainer}>\n      <View style={styles.searchBar}>\n        <Ionicons name=\"search-sharp\" size={25} color=\"#000\" />\n        <TextInput\n          style={styles.searchInput}\n          value={search}\n          onChangeText={(getSearch) => setSearch(getSearch)}\n          placeholder=\"Search here\"\n        />\n      </View>\n      <ScrollView>\n        <FlatList\n          data={yogaPose}\n          keyExtractor={(item) => item.id.toString()}\n          renderItem={_renderItem}\n          refreshing={loading}\n        />\n      </ScrollView>\n    </View>\n  );\n};\n\nexport default ChoosePage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}